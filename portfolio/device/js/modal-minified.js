var mapLink=document.querySelector(".map-link"),modalMap=document.querySelector(".modal-map"),mapClose=modalMap.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show"),modalFeedback.classList.contains("modal-show")&&modalFeedback.classList.remove("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")});var feedbackButton=document.querySelector(".feedback-button"),modalFeedback=document.querySelector(".modal-feedback"),feedbackForm=modalFeedback.querySelector(".feedback"),feedbackClose=modalFeedback.querySelector(".modal-close"),nameField=modalFeedback.querySelector("[name=name]"),emailField=modalFeedback.querySelector("[name=email]"),messageField=modalFeedback.querySelector("[name=message]"),nameStorage=localStorage.getItem("nameField"),emailStorage=localStorage.getItem("emailField");feedbackButton.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show"),nameStorage&&emailStorage?(nameField.value=nameStorage,emailField.value=emailStorage,messageField.focus()):nameField.focus(),modalMap.classList.contains("modal-show")&&modalMap.classList.remove("modal-show")}),feedbackForm.addEventListener("submit",function(e){nameField.value?emailField.value?messageField.value?(localStorage.setItem("nameField",nameField.value),localStorage.setItem("emailField",emailField.value)):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"),messageField.focus()):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"),emailField.focus()):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"),nameField.focus())}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalMap.classList.contains("modal-show")&&modalMap.classList.remove("modal-show"),modalFeedback.classList.contains("modal-show")&&(modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-error")))});